---

layout: post

title: Vue - Watch

subtitle: TIL

categories: coding

tags: [Vue, Study]

---

# Vue Watch

<aside>
ğŸ’¡ useEffectì™€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ìœ¼ë¡œ ëŒ€ë¶€ë¶„ computedë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ íŠ¹ì •í•œ ìƒí™©ì— ë”°ë¼ `watch` ê°€ í•„ìš”í•  ë•Œë„ ìˆë‹¤.

</aside>

1. íŠ¹ì • ëŒ€ìƒì˜ ë³€ê²½ì´ ë°œìƒí–ˆì„ ë•Œ ë°ì´í„° ì¡°ì‘ì´ í•„ìš”í•œ ê²½ìš°
2. router ë³€í™”ë¥¼ ê°ì§€í•˜ê¸° ìœ„í•´
3. storeì˜ stateê°€ ë³€ê²½ë  ê²½ìš° ê°ì§€í•˜ê¸° ìœ„í•´ (computed ì™€ ê°™ì´ ì‚¬ìš©)

```jsx
<template>
  <div id="app">
    <input type="text" v-model="message" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: "",
    };
  },
  watch: {
    message: function (value) {
      console.log("value", value);
    },
  },
};
</script>
```

- inputì„ ì‚¬ìš©í•´ ì–‘ë°©í–¥ ë°”ì¸ë”©ì„ ì§€ì •í•˜ê³  `watch` ë¡œ ê°ì‹œí•  ëŒ€ìƒì„ ì§€ì •í•˜ì˜€ë‹¤.
- ì‚¬ìš©ìê°€ inputì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•  ë•Œ ë§ˆë‹¤ message ë°ì´í„°ê°€ ë™ì ìœ¼ë¡œ ë°”ì¸ë”© ë˜ê³ , watchëŠ” messageì˜ ê°’ì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ í•´ë‹¹ methodë¥¼ ì‹¤í–‰í•œë‹¤.
- ì£¼ì˜ì ì€ ê°ì‹œí•  targetëª…ì´ watchì— ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. ì¦‰, ê°ì‹œí•  dataì¸ messageì™€ ê°™ì´ watchì˜ keyë„ messageë¡œ ì§€ì •ë˜ì–´ì•¼ í•œë‹¤.

## ë¬¸ë²•

```jsx
watch: {
  // ë¬¸ë²•1
  message: function (value) {
    console.log("value", value);
  },

  // ë¬¸ë²•2
  message(value) {
    console.log("value", value);
  },

},
```

## new & old

<aside>
ğŸ’¡ `watch` ëŠ” ê°ì‹œ ëŒ€ìƒì˜ ë³€ê²½ ì´ì „ê³¼ ì´í›„ ê°’ì„ ëª¨ë‘ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

</aside>

```jsx
<template>
  <div id="app">
    <input type="text" v-model="message" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: "",
    };
  },
  watch: {
    message(newValue, oldValue) {
      console.log("newValue", newValue);
      console.log("oldValue", oldValue);
    },
  },
};
</script>
```

## í•¨ìˆ˜ ì§€ì •

```jsx
<template>
  <div id="app">
    <input type="text" v-model="message" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: "",
    };
  },
  watch: {
    message: "setMethod",
  },
  methods: {
    setMethod(value) {
      console.log("watch message value", value);
    },
  },
};
</script>
```

- watchì™€ methodsë¥¼ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- í•¨ìˆ˜ëª…ì„ ë¬¸ìì—´ë¡œ ì •ì˜í•  ê²½ìš° í•´ë‹¹ ë¬¸ìì—´ê³¼ ê°™ì€ keyì˜ methodsì˜ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

## ê°ì²´ ê°ì‹œ (ê°ì²´ ì „ì²´)

```jsx
<template>
  <div id="app">
    <input type="text" v-model="message.title" />
    <input type="text" v-model="message.contens" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: {
        title: "",
        contens: "",
      },
    };
  },
  watch: {
    message: {
      handler: function (val) {
        console.log("val", val); // {title: '', contens: 'ë³€ê²½'}
      },
      deep: true,
    },
  },
};
</script>
```

- ê°œë³„ ë°ì´í„° ë¿ë§Œ ì•„ë‹ˆë¼ ê°ì²´ ìì²´ì— ëŒ€í•œ ê°ì‹œì™€ ê·¸ì— í•´ë‹¹í•˜ëŠ” í–‰ë™ë„ ì·¨í•  ìˆ˜ ìˆë‹¤.
- messageì˜ title, contents ì¤‘ í•˜ë‚˜ë¼ë„ ë³€í™”ê°€ ê°ì§€ë  ê²½ìš° watchì˜ messageê°€ ì‹¤í–‰ëœë‹¤.
- handle, deep ì€ ê°ì²´ ì „ì²´ë¥¼ ê°ì‹œí•˜ê¸° ìœ„í•œ ë¬¸ë²•ì´ë‹¤.
