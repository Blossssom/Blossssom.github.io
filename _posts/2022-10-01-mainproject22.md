---

layout: post

title: Main project Day 22

subtitle: TIL

categories: coding

tags: [React, project]

---

**2022-10-01**

Cart와 찜하기 API가 완료되어 이부분도 바로 테스트하고 연결하였다. 다만 찜하기의 경우 로그인 시에만 가져와야해서 로그인 여부에 따른 처리를 진행했다.

찜하기 데이터가 어떠한 형식으로 들어오는게 맞는지 애매해서 애를 먹었다. 현재는 유저별로 찜한 데이터가 들어오는데 Redux로 관리할지 매 카드 호출시 가져올지 판단해봐야겠다. 찜하기의 경우 업데이트가 자주 일어날 수 있는 부분이기에 생각했던것 보다 타이밍이 복잡한 느낌이었다.

## shop


![Untitled](/post-img/figma16.png)

카트페이지에 데이터를 넣고 삭제, 추가 전부 완료되었는데 이상한 부분이 있었다.

상품 데이터를 가져올 때 사이즈가 하나만 돌아와서 백엔드 팀원분께 여쭤보니 사이즈별로 상품 id가 따로 있다고 하셔서 난감했다. 내가 잘못생각한 건가 싶었는데 설계 미스라고 하셔서 front에서 커버하기로 했다. 

당장 내일 모레가 마감 예정이고 간단한 문제가 아니기에 후에 리팩토링하기로 합의하고 진행했다. API에 설계에 따라 front 코드도 많이 복잡해지고 예상치 못하게 구조도 바뀌어서 너무 속상했고 팀원분은 계속 사과를 하셨는데 오히려 설계 때 내가 부족해서 그부분을 못집어 드린것 같아 미안했다. 

## Todo


내일은 mypage 부분에서 찜하기와 cart 아이템 삭제등을 바로 업데이트하고 UI에 반영될 수 있게 처리해야한다.

비로그인 시에 찜하기를 누르면 로그인 안내를 모달로 띄울까 했지만 CardItem 자체가 detail로 이동하는 수단이기에 오히려 안내가 사용자 편의를 해칠까 싶어 비활성화를 걸어두었는데 멘토님과도 상의를 해봐야겠다.

기간이 짧아지고 나서 3 - 4 시간 이상을 잔적이 거의 없는 것 같아 몸이 너무 피곤하다. 하지만 기간내에 반드시 완성시키고 싶으니 조금만 더 힘을 내보자